{% extends "../../views/layout-payment-links-v2.njk" %}

{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "../../views/macros/error-summary.njk" import errorSummary %}

{% block pageTitle %}
  Confirm  - {{ productName }}
{% endblock %}

{% block contentBody %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      {{ errorSummary ({
        errors: errors
      }) }}

      <h1 class="govuk-heading-l" data-cy="product-name">{{ productName }}</h1>

      <h2 class="govuk-heading-m" data-cy="reference-label">{{ __p('paymentLinksV2.confirm.checkYourDetails') }}</h2>

      {% include "./_summary-list.njk" %}

      <form method="post" data-cy="form">
        <input id="csrf" name="csrfToken" type="hidden" value="{{ csrf }}"/>

        {% if productReferenceLabel %}
           <input id="reference-value" name="reference-value" type="hidden" value="{{ sessionReferenceNumber }}" />
        {% endif %}

        <input id="amount" name="reference-value" type="hidden" value="{{ amountAsPence }}" />

        {% if product.requireCaptcha %}
          <div class="g-recaptcha govuk-!-margin-bottom-5" data-sitekey="{{ GOOGLE_RECAPTCHA_SITE_KEY }}"></div>
        {% endif %}

        {{ govukButton({
          text:  __p('paymentLinksV2.confirm.continueToPayment'),
          attributes: { 'data-cy': 'continue-to-payment-button' }
        }) }}
      </form>
    </div>
  </div>
{% endblock %}
